# Развёртывание на InfinityFree

Этот документ описывает, как разместить проект на бесплатном хостинге **InfinityFree.com**.

## Что вам понадобится

- Аккаунт на [InfinityFree.com](https://www.infinityfree.net/)
- FTP-клиент (например, FileZilla, Cyberduck или встроенный менеджер файлов в панели управления InfinityFree)
- Встроенный FTP-клиент в панели управления InfinityFree (если не хотите устанавливать отдельный)

## Шаг 1: Подготовка сборки для InfinityFree

Сборка должна быть сделана с `base: '/'` (корень домена), а не `/admin-panel-test/`.

### Вариант 1: Использовать переменную окружения

```bash
# Установить переменную для InfinityFree и собрать
DEPLOY_TARGET=infinity-free npm run build
```

### Вариант 2: Временно отредактировать vite.config.ts

Отредактируйте `vite.config.ts` и установите `base: '/'`:

```typescript
export default defineConfig({
  base: '/',  // ← для InfinityFree
  plugins: [react()],
})
```

Затем запустите сборку:

```bash
npm run build
```

**Важно!** После загрузки на InfinityFree верните `base: '/admin-panel-test/'` в `vite.config.ts` для GitHub Pages.

## Шаг 2: Загрузка файлов на InfinityFree

1. Зайдите в **File Manager** (Менеджер файлов) в панели управления InfinityFree.
2. Перейдите в директорию **public_html** (это корневая папка веб-сайта).
3. Загрузите все файлы из папки `dist/` в `public_html`:
   - `index.html`
   - `.htaccess` (если его нет, загрузите из `public/.htaccess`)
   - Папка `assets/`
   - Другие файлы (css, js, статические ресурсы)

**Через FTP-клиент:**

- Подключитесь к серверу FTP (данные для подключения найдёте в панели InfinityFree).
- Перейдите в `public_html/`.
- Загрузите содержимое папки `dist/` туда.

## Шаг 3: Проверка .htaccess

`.htaccess` файл уже создан в `public/.htaccess` и будет скопирован в `dist/` при сборке. Он настраивает Apache на перенаправление всех запросов на `index.html` для работы SPA маршрутов.

Если файл `.htaccess` не загрузился:
1. Создайте его вручную в `public_html/`:
   - Имя: `.htaccess`
   - Содержимое (скопируйте из `public/.htaccess`)

## Шаг 4: Проверка живого сайта

После загрузки откройте ваш домен в браузере (например, `https://ваш-домен.free.nf`).

Если видите 404 ошибку:
- Убедитесь, что `.htaccess` загружен в `public_html/`.
- Проверьте, что Apache поддерживает `mod_rewrite` (обычно поддерживает на InfinityFree).
- Очистите кеш браузера (Ctrl+Shift+Delete или Cmd+Shift+Delete).

## Шаг 5: Использование собственного домена

Если вы привязали собственный домен (вместо поддомена `free.nf`):
1. Загрузите те же файлы в `public_html/` этого домена.
2. Убедитесь, что `.htaccess` там присутствует.

## Возвращение к GitHub Pages

Если позже захотите вернуться к GitHub Pages деплою:

```bash
# Верните base в vite.config.ts на '/admin-panel-test/'
npm run build
npm run deploy
```

## Решение проблем

**Q: Видю 404 после загрузки.**
A: Убедитесь, что `.htaccess` загружен и содержит правильные правила перенаправления. Проверьте, что все файлы из `dist/` загружены в `public_html/`.

**Q: Динамические маршруты не работают.**
A: `.htaccess` должен перенаправлять на `index.html`. Если не работает, вероятно, Apache не поддерживает `mod_rewrite` или он отключен (маловероятно на InfinityFree).

**Q: Как узнать домен моего сайта?**
A: В панели управления InfinityFree найдите раздел «Your Sites» — там будет адрес типа `yoursite.free.nf`.

---

Если остались вопросы — обновите README.md или оставьте issue в репозитории.
